'use strict';

angular.module('notebookApp').directive('noteArea', [
  'RenderNotebookSvc',
  function(RenderNotebookSvc){
    return{
      restrict: 'E',
      templateUrl: "<%= asset_path('notebooks/templates/directives/noteArea.html') %>",
      scope:{
        notes: '='
      },
      link: function(scope, element, attrs){
        scope.renderNotes = function(){
          scope.notes.forEach(function(note){
            RenderNotebookSvc.slapOnPage(element, note);
          })
        }

        scope.$watch('notes', function (notes) {
          scope.renderNotes()
        });
      }
    }
  }
]);
