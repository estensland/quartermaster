'use strict';

angular.module('notebookApp')
  .controller('ShowController', [
      'notebook',
      'binder',
      'NotebookSvc',
      function(notebook, binder, NotebookSvc) {
        var showCtrl = this;
        showCtrl.notebook = NotebookSvc.build(notebook);
        showCtrl.notebooks = binder.notebooks

        showCtrl.currentDivider = showCtrl.notebook.children[0];

        showCtrl.setCurrentDivider = function(divider){
          showCtrl.currentDivider = divider;
          divider.notes = divider.notes.sort(function(a,b){return parseInt(a.order) > parseInt(b.order)})
        }
      }
  ]);
